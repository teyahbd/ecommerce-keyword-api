# Word2Vec Keyword Recommendation API

<div align="center">
  <a href="https://northcoders.com/projects/nov-2022/santas-little-helper">
    <img src="images/logo.png" alt="Santa's Little Helper Logo">
  </a>

  <p align="center">
    An app that uses machine learning to help you with your Christmas shopping!
    <br>
    <a href="https://github.com/robcarter123/react-final-project">Main App Repo</a>
    ·
    <a href="https://northcoders.com/projects/nov-2022/santas-little-helper">Demo</a>
    ·
    <a href="https://github.com/2202Hannah/final-project-be-ebay">eBay API Repo</a>
  </p>

  <details>
  <summary>Table of Contents</summary>
  <div>
    <a href="#about-this-repo">About This Repo</a><br>
    <a href="#built-with">Built With</a><br>
    <a href="#getting-started">Getting Started</a><br>
    <a href="#getting-started">API Usage</a><br>
    <a href="#testing">Testing</a><br>
    <a href="#credits">Credits</a><br>
  </div>
</details>
</div>

# About This Repo

This API forms part of a group project completed on the Northcoders software development bootcamp. Santa's Little Helper is an app created in React Native which uses a Word2Vec machine learning model to help users find an ideal present. Please find the main app repo here for further details and our project page with an app demo can be found here.
natural language processing
This repo contains two sections:

1. Keyword api
2. Custom word vector training

Link to currently hosted page

REST api?

wuickly explain project flow here

<p align="right">(<a href="#word2vec-keyword-api">back to top</a>)</p>

# Built With

We have used Python to both train our word vectors and create this API. Key technologies we've used in development are:

- [Flask](https://flask.palletsprojects.com/en/2.2.x/)
- [pandas](https://pandas.pydata.org/)
- [GENSIM](https://pypi.org/project/gensim/)
- [Word2Vec](https://code.google.com/archive/p/word2vec/)
- [pytest](https://docs.pytest.org/en/7.2.x/)
- [Jupyter Notebook](https://jupyter.org/)

Details on development of the React Native app can be found in the [main app repo](https://github.com/robcarter123/react-final-project).

<p align="right">(<a href="#word2vec-keyword-api">back to top</a>)</p>

# Getting Started

As mentioned, there are two uses for this repo - hosting a Word2Vec keyword API and training a custom set of word vectors. If you only wish to host the API, it is not necessary to train a custom model as our pre-trained word vectors are already included in this repo (`/model/ecommerce_vecs.txt`). If that's the case, <a href="#hosting-the-keyword-recommendation-api">skip to the second part</a> of this section.

## Training Custom Word Vectors using Word2Vec

### Prerequisites

Additionally, it is unnecessary to host the API with these training files and large dataset.

### Installation

To clean and train your data, you can either follow the steps outlined in the jupyter notebooks and run them, or we have included a data cleaning script `/model_training/clean_data.py` which can be run using

```
python3 clean_data.py
```

and we have included a model training script `/model_training/train_model.py` which can be run using

```
python3 train_data.py
```

It is recommended to follow the jupyter notebooks if you are unsure, as they take you through the process step-by-step. Once you have cleaned the data and trained the model, you should have a file `/model_training/ecommerce_vecs.txt`. If you wish to use this file in the next step of your API, replace the preexisting file `/model/ecommerce_vecs.txt`.

## Hosting the Keyword Recommendation API

### Prerequisites

### Installation

<p align="right">(<a href="#word2vec-keyword-api">back to top</a>)</p>

# API Usage

Since this API was created for our React Native app to interact with our Word2Vec model, it contains only 2 endpoints. Here is a brief overview of the intended flow of this API:

1. A user submits a list of zero or more positive words and a list of zero of more negative words to the API in a POST request.
2. These two lists are passed to our Word2Vec keyword recommendation model which uses our custom word vectors to find the "most similar" words to the positive list (and/or the "least similar" to the negative list).
3. The API responds to the POST request with a list of the two recommended words generated by the model.

Essentially, the API recommends similar words based on the submitted words. The list of positive words contribute positively to the similarity, and the list of negative words contribute negatively. In use for our app, the API takes a list of positive keywords generated from items a user has liked and a list of negative keywords generated from items the user has disliking. More details the function used for these word vector calculations can be found [here](https://radimrehurek.com/gensim/models/keyedvectors.html#gensim.models.keyedvectors.KeyedVectors.most_similar).

## GET /

Responds with a list of all the current API endpoints.

#### Example Response

```
{
  "Endpoints": {
    "/model": "accepts POST request containing keywords which returns related keywords"
  }
}
```

## POST /model

Responds with an object containing a list of the two "most similar" words to the words submitted by the user.

### Request

The request object should have exactly two keys - `positive` and `negative`. Each key should have a value of a list of strings containing words accepted by the Word2Vec model. Empty arrays are accepted however, both keys must always be present on the request object.

#### Example Request

```
{
	"positive": ["heart", "chair"],
	"negative": ["star"]
}

```

### Response

The response object will have a key of `keywords`. The list returned will contain exactly two values - the two "most similar" words to the submitted words. Each word is returned with a corresponding value which represents it's similarity to the positive words from the request object (and/or their dissimilarity to the negative words). This value ranges from -1 (not very similar) to 1 (very similar).

#### Example Response

```
{
	"keywords": [
		[
			"desk",
			0.5458441972732544
		],
		[
			"camping",
			0.46846500039100647
		]
	]
}
```

## Notes

- A list of all accepted words for our Word2Vec API can be found in `model/word_list.txt`.
- ⚠️ Warning! This API focuses on the value of training custom, context-relevant word vectors as an exploration of the technology involved. Therefore, our dataset is relatively small and there are many words that do not exist on our current word list.
  - It is recommended to check which words are accepted by our API before use. If any word on either list is not accepted, currently our API will return a 400 Bad Request error.
  - If you wish to see an example using a much larger (but less relevant) word list, see our [previous repo](https://github.com/teyahbd/wiki-keyword-api) which contains an identical API but instead uses pretrained Wikipedia word vectors from GLoVe.

<p align="right">(<a href="#word2vec-keyword-api">back to top</a>)</p>

# Testing

Our Word2Vec function, API endpoints and their respective error handling is tested using `pytest` and our test files can be found within the `__tests__` folder. To run these tests for yourself, navigate into this folder (after following the API installation procedure above) and run:

`python3 -m pytest`

This command can be followed by either file name (`test_app.py` or `test_model.py`) to run the tests from each file separately.

<p align="right">(<a href="#word2vec-keyword-api">back to top</a>)</p>

# Credits

This API forms part of a short project completed during the Northcoders software development bootcamp in 2022 by My Favourite Team. Check out our project page with an app demo [here](https://northcoders.com/projects/nov-2022/santas-little-helper).

## Team Members

- Teyah Brennen-Davies ([LinkedIn](https://www.linkedin.com/in/teyah-brennen-davies/)|[Github](https://github.com/teyahbd))
- Hannah Barber ([LinkedIn](https://www.linkedin.com/in/hannah-barber-036a7a97/)|[Github](https://github.com/2202Hannah))
- Byron Esson ([LinkedIn](https://www.linkedin.com/in/byron-esson-4181121a7/)|[Github](https://github.com/byronEsson))
- David Cobb ([LinkedIn](https://www.linkedin.com/in/david-cobb-925600253/)|[Github](https://github.com/DavidCobb606))
- Niall Sexton ([LinkedIn](https://www.linkedin.com/in/niall-sexton-64a9821b3)|[Github](https://github.com/NiallSexton))
- Rob Carter ([LinkedIn](https://www.linkedin.com/in/rob-carter-906145a8/)|[Github](https://github.com/robcarter123))

## Data

To train a set of custom eCommerce word vectors, we have used an online retail dataset from the [UCI machine learning repository](https://archive.ics.uci.edu/ml/index.php) which can be downloaded [here](https://archive.ics.uci.edu/ml/machine-learning-databases/00352/).

## Resources

The following resources were particularly helpful in creating this project:

- [Building a Recommendation System using Word2Vec](https://www.analyticsvidhya.com/blog/2019/07/how-to-build-recommendation-system-word2vec-python/)
- [Deploying a Python Flask Example Application Using Heroku](https://realpython.com/flask-by-example-part-1-project-setup/)
- [Best README Template](https://github.com/othneildrew/Best-README-Template)

<p align="right">(<a href="#word2vec-keyword-api">back to top</a>)</p>
